## 走进初链黄皮书
##### 作者：NancySmall

### 揭开初链的面纱
前有比特币、以太坊等公链，这两者是区块链v1.0和v2.0版本的代表。比特币开启了去中心化的先河，以太坊实现了数字货币和智能合约的有机结合。顺着区块链技术的发展，初链应运而生。简而言之，初链的目的就是商用去中心化应用。TrueChain是全球最早的PBFT-POW最早的混合共识公链之一。简而言之，初链就是解决数字支付、智能合约等显示问题的。
### 拜占庭容错算法
1. 算法介绍<br>
作为全球最早的PBFT-POW最早的混合共识公链之一，当然要先说一说，混合共识了。DBFT是一种改进的拜占庭容错算法，这个算法通过共识节点协商。
- Pos -- 权益证明  它是借用网络协商处理容错
- PoW -- 工作量证明 它是借用计算能力处理容错
- dBFT -- 它是改进的共识算法，通过共识节点共同协商达成共识<br>
我们提出了TrueChain，一种PBFT的混合协议和POW一致。POW共识确保了激励和委员会的选择，而PBFT层作为一种高效的共识，如快速的终结性，高通量，交易验证，公平贸易经济的轮值委员会，以及处理非统一基础设施的补偿基础设施。混合协议的本质允许它最大限度地容忍大约三分之一的对等节点的腐败。
2. 算法工作原理
- 发送者持有签名，在共识节点A上向全网(B)广播一个交易
```
graph LR
A-->B......
```
- 共识节点保存交易记录到本地
- 初始化第一个共识活动的视图
- 确定一个议长A
- 议长A广播提案 
```
graph LR
A-->B等...
```
- 议员验证
- [ ] 是否符合规则
- [ ] 是否在链上
- [ ] 是否为一笔开支
- 议员达成共识后，发布一个区块
- 签名该区块，并且绑定到链上
- 共识节点收到一个完整的区块后，清楚视图数据，开始新的共识<br>
TrueChain提出使用PBFT和POW的混合机制作为核心共识。在混合共识机制中，我们选择果实链作为我们的潜在链。果实链优点如下：
- 果实比矿块更容易开采，因此矿工们没有激励机制或形成采矿池。这使得PoW成为一个更公平的过程。
- 由于水果开采难度较低，很可能两种水果同时开采。 确定哪个有效的一种方法是通过选择具有较低散列值的那个。
直到他们写在一个块中后，果实才会稳定。因此，采矿奖励将支付给矿区的块矿工，然后块矿工会将奖励分配给矿区内的果实矿工。
- 果实链方案的一个优点是果实可以以任何顺序开采，这可以使采矿高度平行。与分片结合时，这将特别有用<br>

TrueChain有很多技术：日长变化和混合委员会选举、计算和数据分片、虚拟机中的智能合约、非PoW开采等等，本文未完待续，深入了解TrueChain敬请期待。
